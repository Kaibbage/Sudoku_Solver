<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku Grid</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f8f8f8;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        /* New style for buttons container to align buttons side by side */
        .button-container {
            display: flex;
            justify-content: center;
            gap: 70px; /* Space between buttons */
            margin-top: 10px;
            margin-bottom: 10px;
        }
        .start-button, .clear-button {
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            width: 100px;
            height: 60px;
        }
        .start-button {
            background-color: #4CAF50;
            color: white;
        }
        .clear-button {
            background-color: red;
            color: white;
        }
        .sudoku-container {
            display: grid;
            grid-template-columns: repeat(9, 60px);
            grid-template-rows: repeat(9, 60px);
            gap: 0;
            border: 4px solid black;
            background-color: white;
            padding: 5px;
        }
        .cell {
            width: 58px;
            height: 58px;
            text-align: center;
            font-size: 24px;
            border: 1px solid gray;
            background-color: white;
            outline: none;
            box-sizing: border-box;
        }
        /* Bold borders for 3x3 subgrids */
        .cell:nth-child(9n+4), .cell:nth-child(9n+7) {
            border-left: 3px solid black;
        }
        .cell:nth-child(n+28):nth-child(-n+36),
        .cell:nth-child(n+55):nth-child(-n+63) {
            border-top: 3px solid black;
        }
    </style>
</head>
<body>
    <h1>Sudoku Solver</h1>

    <div class="button-container">
        <button class="start-button" onclick="startGame()">Start</button>
        <button class="clear-button" onclick="clearGrid()">Clear</button>
    </div>

    <div class="sudoku-container" id="sudokuGrid"></div>



    <script>
        function createSudokuGrid() {
            const grid = document.getElementById("sudokuGrid");
            for (let row = 0; row < 9; row++) {
                for (let col = 0; col < 9; col++) {
                    const cell = document.createElement("input");
                    cell.type = "text";
                    cell.classList.add("cell");
                    cell.id = `cell-${row}-${col}`;
                    cell.maxLength = 1;
                    grid.appendChild(cell);
                }
            }
        }

        // Handle arrow key movement between cells
        function handleArrowKeys(event) {
            const focusedElement = document.activeElement;
            const currentId = focusedElement.id;
            const match = currentId.match(/^cell-(\d)-(\d)$/);
            
            if (match) {
                let row = parseInt(match[1]);
                let col = parseInt(match[2]);
                let nextCell = null;

                switch (event.key) {
                    case 'ArrowLeft':
                        if (col > 0) {
                            nextCell = document.getElementById(`cell-${row}-${col - 1}`);
                        }
                        else if (row > 0) {
                            nextCell = document.getElementById(`cell-${row - 1}-8`);
                        }
                        break;
                    case 'ArrowRight':
                        if (col < 8) {
                            nextCell = document.getElementById(`cell-${row}-${col + 1}`);
                        }
                        else if (row < 8) {
                            nextCell = document.getElementById(`cell-${row + 1}-0`);
                        }
                        break;
                    case 'ArrowUp':
                        if (row > 0) {
                            nextCell = document.getElementById(`cell-${row - 1}-${col}`);
                        }
                        break;
                    case 'ArrowDown':
                        if (row < 8) {
                            nextCell = document.getElementById(`cell-${row + 1}-${col}`);
                        }
                        break;
                }

                if (nextCell) {
                    nextCell.focus();
                }
            }
        }

        // Handle Backspace and Delete behavior
        function handleDeleteBackspace(event) {
            const focusedElement = document.activeElement;
            const currentId = focusedElement.id;
            const match = currentId.match(/^cell-(\d)-(\d)$/);

            if (match) {
                let row = parseInt(match[1]);
                let col = parseInt(match[2]);
                let nextCell = null;

                // If Backspace is pressed
                if (event.key === 'Backspace') {
                    focusedElement.value = ''; // Clear the current cell
                    if (col > 0) {
                        nextCell = document.getElementById(`cell-${row}-${col - 1}`);
                    }
                    else if (row > 0) {
                        nextCell = document.getElementById(`cell-${row - 1}-8`);
                    }
                }
                // If Delete is pressed
                else if (event.key === 'Delete') {
                    focusedElement.value = ''; // Clear the current cell
                    if (row > 0) {
                        nextCell = document.getElementById(`cell-${row - 1}-${col}`);
                    }
                }

                // Move to the previous cell if valid
                if (nextCell) {
                    nextCell.focus();
                }
            }
        }

        function initialize() {
            createSudokuGrid();

            // Add event listeners for arrow keys and Backspace/Delete
            document.addEventListener('keydown', (event) => {
                if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(event.key)) {
                    handleArrowKeys(event);
                } else if (event.key === 'Backspace' || event.key === 'Delete') {
                    handleDeleteBackspace(event);
                }
            });
        }

        window.onload = initialize;
    </script>
</body>
</html>
